{"version":3,"file":"request-mock.min.js","sources":["../src/request-mock.ts"],"sourcesContent":["const requestMap: any = {};\n\nexport default class RequestMock {\n  private reqData: any = null;\n  private resData: any = null;\n  private errData: any = null;\n\n  constructor(reqData?: any) {\n    if (reqData) {\n      this.get(reqData);\n    }\n  }\n\n  get(reqData: any) {\n    this.reqData = reqData;\n    requestMap[JSON.stringify(this.reqData)] = this;\n    return this;\n  }\n\n  getErrData() {\n    return this.errData;\n  }\n\n  getReqData() {\n    return this.reqData;\n  }\n\n  getResData() {\n    return this.resData;\n  }\n\n  success(resData: any) {\n    this.resData = resData;\n    return this;\n  }\n\n  fail(errData: any) {\n    this.errData = errData;\n    return this;\n  }\n}\n\nglobal.wx.request = jest.fn().mockImplementation((reqData) => {\n  const mockObj = requestMap[JSON.stringify(reqData)];\n\n  if (mockObj.getErrData()) {\n    reqData.fail(mockObj.getErrData());\n  }\n  return reqData.success(mockObj.getResData());\n});\n"],"names":["requestMap","reqData","this","get","RequestMock","JSON","stringify","errData","resData","global","wx","request","jest","fn","mockImplementation","mockObj","getErrData","fail","success","getResData"],"mappings":"mPAAA,IAAMA,EAAkB,gBAOtB,WAAYC,GAJJC,aAAe,KACfA,aAAe,KACfA,aAAe,KAGjBD,GACFC,KAAKC,IAAIF,GA+Bf,OA3BEG,gBAAA,SAAIH,GAGF,OAFAC,KAAKD,QAAUA,EACfD,EAAWK,KAAKC,UAAUJ,KAAKD,UAAYC,KACpCA,MAGTE,uBAAA,WACE,OAAOF,KAAKK,SAGdH,uBAAA,WACE,OAAOF,KAAKD,SAGdG,uBAAA,WACE,OAAOF,KAAKM,SAGdJ,oBAAA,SAAQI,GAEN,OADAN,KAAKM,QAAUA,EACRN,MAGTE,iBAAA,SAAKG,GAEH,OADAL,KAAKK,QAAUA,EACRL,WAIXO,OAAOC,GAAGC,QAAUC,KAAKC,KAAKC,oBAAmB,SAACb,GAChD,IAAMc,EAAUf,EAAWK,KAAKC,UAAUL,IAK1C,OAHIc,EAAQC,cACVf,EAAQgB,KAAKF,EAAQC,cAEhBf,EAAQiB,QAAQH,EAAQI"}