{"version":3,"file":"request-mock.min.js","sources":["../src/request-mock.ts"],"sourcesContent":["const requestMap: any = {};\n\nexport default class RequestMock {\n  private reqData: any = null;\n  private resData: any = null;\n  private errData: any = null;\n\n  get(reqData: any) {\n    this.reqData = reqData;\n    requestMap[JSON.stringify(this.reqData)] = this;\n    return this;\n  }\n\n  getErrData() {\n    return this.errData;\n  }\n\n  getReqData() {\n    return this.reqData;\n  }\n\n  getResData() {\n    return this.resData;\n  }\n\n  success(resData: any) {\n    this.resData = resData;\n    return this;\n  }\n\n  fail(errData: any) {\n    this.errData = errData;\n    return this;\n  }\n}\n\nglobal.wx.request = jest.fn().mockImplementation((reqData) => {\n  const mockObj = requestMap[JSON.stringify(reqData)];\n\n  if (mockObj.getErrData()) {\n    reqData.fail(mockObj.getErrData());\n  }\n  return reqData.success(mockObj.getResData());\n});\n"],"names":["requestMap","this","RequestMock","reqData","JSON","stringify","errData","resData","global","wx","request","jest","fn","mockImplementation","mockObj","getErrData","fail","success","getResData"],"mappings":"mPAAA,IAAMA,EAAkB,gBAExB,aACUC,aAAe,KACfA,aAAe,KACfA,aAAe,KA6BzB,OA3BEC,gBAAA,SAAIC,GAGF,OAFAF,KAAKE,QAAUA,EACfH,EAAWI,KAAKC,UAAUJ,KAAKE,UAAYF,KACpCA,MAGTC,uBAAA,WACE,OAAOD,KAAKK,SAGdJ,uBAAA,WACE,OAAOD,KAAKE,SAGdD,uBAAA,WACE,OAAOD,KAAKM,SAGdL,oBAAA,SAAQK,GAEN,OADAN,KAAKM,QAAUA,EACRN,MAGTC,iBAAA,SAAKI,GAEH,OADAL,KAAKK,QAAUA,EACRL,WAIXO,OAAOC,GAAGC,QAAUC,KAAKC,KAAKC,oBAAmB,SAACV,GAChD,IAAMW,EAAUd,EAAWI,KAAKC,UAAUF,IAK1C,OAHIW,EAAQC,cACVZ,EAAQa,KAAKF,EAAQC,cAEhBZ,EAAQc,QAAQH,EAAQI"}